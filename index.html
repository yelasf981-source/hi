<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Cyber Safety App - Upgrade Roadmap</title>
<meta name="theme-color" content="#667eea">
<link rel="manifest" id="manifestLink">
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    padding: 20px;
    color: #333;
  }
  
  .container {
    max-width: 1000px;
    margin: 0 auto;
  }
  
  .header {
    background: white;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.1);
    margin-bottom: 30px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  
  .header::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    animation: shine 3s infinite;
  }
  
  @keyframes shine {
    to { left: 100%; }
  }
  
  h1 {
    color: #667eea;
    margin-bottom: 10px;
    font-size: 2em;
  }
  
  .subtitle {
    color: #666;
    font-size: 16px;
  }
  
  .action-buttons {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-top: 20px;
    flex-wrap: wrap;
  }
  
  .install-btn, .export-btn, .stats-btn {
    background: #667eea;
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
  }
  
  .install-btn:hover, .export-btn:hover, .stats-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
  }
  
  .export-btn {
    background: #10b981;
    box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
  }
  
  .stats-btn {
    background: #f59e0b;
    box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
  }
  
  .progress-overview {
    background: white;
    padding: 25px;
    border-radius: 15px;
    margin-bottom: 20px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
  }
  
  .progress-bar {
    width: 100%;
    height: 35px;
    background: #e0e0e0;
    border-radius: 17px;
    overflow: hidden;
    margin-top: 10px;
    position: relative;
  }
  
  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #667eea, #764ba2);
    transition: width 0.5s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: 16px;
    position: relative;
    overflow: hidden;
  }
  
  .progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    animation: shimmer 2s infinite;
  }
  
  @keyframes shimmer {
    to { left: 100%; }
  }
  
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 15px;
    margin-top: 15px;
  }
  
  .stat-card {
    background: linear-gradient(135deg, #667eea, #764ba2);
    padding: 20px;
    border-radius: 12px;
    text-align: center;
    color: white;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
  }
  
  .stat-card h3 {
    font-size: 32px;
    margin-bottom: 5px;
  }
  
  .stat-card p {
    font-size: 14px;
    opacity: 0.9;
  }
  
  .level {
    background: white;
    padding: 25px;
    border-radius: 15px;
    margin-bottom: 20px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  
  .level:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(0,0,0,0.12);
  }
  
  .level-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    cursor: pointer;
    user-select: none;
  }
  
  .level-title {
    display: flex;
    align-items: center;
    gap: 15px;
  }
  
  .level-icon {
    font-size: 32px;
    animation: bounce 2s infinite;
  }
  
  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
  }
  
  .level-badge {
    display: inline-block;
    padding: 5px 15px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: bold;
    text-transform: uppercase;
    animation: pulse 2s infinite;
  }
  
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }
  
  .beginner { background: #4ade80; color: white; }
  .intermediate { background: #fbbf24; color: white; }
  .advanced { background: #f87171; color: white; }
  
  .upgrade-item {
    background: #f8f9fa;
    padding: 18px;
    border-radius: 12px;
    margin-bottom: 15px;
    border-left: 4px solid #667eea;
    transition: all 0.3s ease;
  }
  
  .upgrade-item:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }
  
  .upgrade-item h4 {
    color: #667eea;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 16px;
  }
  
  .checkbox {
    width: 22px;
    height: 22px;
    cursor: pointer;
    accent-color: #667eea;
  }
  
  .upgrade-item.completed {
    background: #f0fdf4;
    border-left-color: #4ade80;
    opacity: 0.8;
  }
  
  .upgrade-item.completed h4 {
    text-decoration: line-through;
    color: #4ade80;
  }
  
  .code-snippet {
    background: #1e293b;
    color: #e2e8f0;
    padding: 15px;
    border-radius: 10px;
    margin: 12px 0;
    font-family: 'Courier New', monospace;
    font-size: 13px;
    overflow-x: auto;
    position: relative;
    box-shadow: inset 0 2px 8px rgba(0,0,0,0.3);
  }
  
  .code-snippet::before {
    content: '';
    position: absolute;
    top: 8px;
    left: 8px;
    width: 12px;
    height: 12px;
    background: #ef4444;
    border-radius: 50%;
    box-shadow: 20px 0 0 #fbbf24, 40px 0 0 #4ade80;
  }
  
  .code-snippet code {
    display: block;
    margin-top: 20px;
  }
  
  .why-section {
    background: #eff6ff;
    padding: 14px;
    border-radius: 10px;
    margin-top: 12px;
    font-size: 14px;
    color: #1e40af;
    border-left: 3px solid #3b82f6;
  }
  
  .resources {
    margin-top: 12px;
    padding-left: 20px;
  }
  
  .resources li {
    margin: 6px 0;
    color: #666;
  }
  
  .resources a {
    color: #667eea;
    text-decoration: none;
    transition: color 0.2s;
  }
  
  .resources a:hover {
    color: #764ba2;
    text-decoration: underline;
  }
  
  .toggle-icon {
    font-size: 24px;
    transition: transform 0.3s;
  }
  
  .collapsed .toggle-icon {
    transform: rotate(-90deg);
  }
  
  .level-content {
    max-height: 5000px;
    overflow: hidden;
    transition: max-height 0.4s ease;
  }
  
  .collapsed .level-content {
    max-height: 0;
  }
  
  .reset-btn {
    background: #ef4444;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    margin-top: 10px;
    transition: all 0.3s ease;
  }
  
  .reset-btn:hover {
    background: #dc2626;
    transform: scale(1.05);
  }
  
  /* Modal Styles */
  .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    animation: fadeIn 0.3s;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  .modal-content {
    background: white;
    margin: 5% auto;
    padding: 30px;
    border-radius: 20px;
    max-width: 500px;
    animation: slideIn 0.3s;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  }
  
  @keyframes slideIn {
    from { transform: translateY(-50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
  
  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
  
  .modal-header h2 {
    color: #667eea;
  }
  
  .close {
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    color: #999;
    transition: color 0.2s;
  }
  
  .close:hover {
    color: #333;
  }
  
  .achievement {
    text-align: center;
    padding: 20px;
  }
  
  .achievement-icon {
    font-size: 80px;
    margin-bottom: 15px;
    animation: celebrate 1s ease-in-out;
  }
  
  @keyframes celebrate {
    0%, 100% { transform: scale(1) rotate(0deg); }
    25% { transform: scale(1.2) rotate(-10deg); }
    50% { transform: scale(1.3) rotate(10deg); }
    75% { transform: scale(1.2) rotate(-5deg); }
  }
  
  .confetti {
    position: fixed;
    width: 10px;
    height: 10px;
    background: #667eea;
    position: absolute;
    animation: confetti-fall 3s linear;
  }
  
  @keyframes confetti-fall {
    to {
      transform: translateY(100vh) rotate(360deg);
      opacity: 0;
    }
  }
  
  /* Toast notification */
  .toast {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background: #4ade80;
    color: white;
    padding: 15px 25px;
    border-radius: 10px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    display: none;
    animation: slideInRight 0.3s;
    z-index: 1000;
  }
  
  @keyframes slideInRight {
    from { transform: translateX(400px); }
    to { transform: translateX(0); }
  }
  
  .toast.show {
    display: block;
  }
  
  /* Responsive */
  @media (max-width: 768px) {
    h1 { font-size: 1.5em; }
    .action-buttons { flex-direction: column; }
    .install-btn, .export-btn, .stats-btn { width: 100%; justify-content: center; }
  }
  
  /* Progress ring for each level */
  .level-progress {
    font-size: 12px;
    color: #666;
    margin-left: 10px;
  }
  
  /* Difficulty indicator */
  .difficulty-dots {
    display: inline-flex;
    gap: 3px;
    margin-left: 10px;
  }
  
  .dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #d1d5db;
  }
  
  .dot.active {
    background: #667eea;
  }
</style>
</head>
<body>

<div class="container">
  <div class="header">
    <h1>üöÄ Level Up Your AI Cyber Safety App</h1>
    <p class="subtitle">A practical roadmap to transform your app from good to production-ready</p>
    
    <div class="action-buttons">
      <button class="install-btn" id="installBtn" style="display: none;">
        <span>üì±</span> Install App
      </button>
      <button class="export-btn" onclick="exportProgress()">
        <span>üíæ</span> Export Progress
      </button>
      <button class="stats-btn" onclick="showStats()">
        <span>üìä</span> View Stats
      </button>
    </div>
  </div>
  
  <div class="progress-overview">
    <h3>Overall Progress</h3>
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill">0%</div>
    </div>
    <p style="margin-top: 15px; color: #666; font-size: 16px;">
      <span id="completedCount">0</span> of <span id="totalCount">0</span> upgrades completed
    </p>
    
    <div class="stats-grid">
      <div class="stat-card">
        <h3 id="beginnerComplete">0</h3>
        <p>üü¢ Beginner</p>
      </div>
      <div class="stat-card">
        <h3 id="intermediateComplete">0</h3>
        <p>üü° Intermediate</p>
      </div>
      <div class="stat-card">
        <h3 id="advancedComplete">0</h3>
        <p>üî¥ Advanced</p>
      </div>
      <div class="stat-card">
        <h3 id="streak">0</h3>
        <p>üî• Day Streak</p>
      </div>
    </div>
    
    <button class="reset-btn" onclick="resetProgress()">üîÑ Reset Progress</button>
  </div>
  
  <!-- LEVEL 1: SECURITY & BEST PRACTICES -->
  <div class="level" data-level="beginner">
    <div class="level-header" onclick="toggleLevel(this)">
      <div class="level-title">
        <span class="level-icon">üîí</span>
        <div>
          <h2>Level 1: Security & Best Practices</h2>
          <span class="level-badge beginner">Beginner</span>
          <span class="level-progress" data-level-id="1">(0/3)</span>
        </div>
      </div>
      <span class="toggle-icon">‚ñº</span>
    </div>
    
    <div class="level-content">
      <div class="upgrade-item" data-id="1" data-difficulty="beginner">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Hash passwords instead of storing plain text</h4>
        <p>Currently storing passwords as plain text is a major security risk.</p>
        <div class="code-snippet"><code>// Use bcrypt-like hashing
const hashPassword = async (password) => {
  const encoder = new TextEncoder();
  const data = encoder.encode(password);
  const hash = await crypto.subtle.digest('SHA-256', data);
  return Array.from(new Uint8Array(hash))
    .map(b => b.toString(16).padStart(2, '0')).join('');
}</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> If someone inspects localStorage, they can see all passwords. Hashing protects user data even if storage is compromised.
        </div>
        <ul class="resources">
          <li>üìö <a href="https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto" target="_blank">Web Crypto API Docs</a></li>
        </ul>
      </div>
      
      <div class="upgrade-item" data-id="2" data-difficulty="beginner">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Add input validation and sanitization</h4>
        <p>Prevent XSS attacks by sanitizing user input before displaying.</p>
        <div class="code-snippet"><code>function sanitizeInput(text) {
  const div = document.createElement('div');
  div.textContent = text;
  return div.innerHTML;
}

// Use when displaying results
result.innerHTML = sanitizeInput(userInput);</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Users could inject malicious scripts. Always sanitize before inserting into DOM.
        </div>
      </div>
      
      <div class="upgrade-item" data-id="3" data-difficulty="beginner">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Add rate limiting to prevent spam</h4>
        <p>Limit how many analyses a user can perform per minute.</p>
        <div class="code-snippet"><code>let analysisCount = 0;
let lastReset = Date.now();

function analyze() {
  if (Date.now() - lastReset > 60000) {
    analysisCount = 0;
    lastReset = Date.now();
  }
  if (analysisCount >= 10) {
    alert('Please wait before analyzing again');
    return;
  }
  analysisCount++;
  // ... rest of analysis
}</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Prevents abuse and reduces load on your app.
        </div>
      </div>
    </div>
  </div>
  
  <!-- LEVEL 2: CODE QUALITY & ARCHITECTURE -->
  <div class="level" data-level="intermediate">
    <div class="level-header" onclick="toggleLevel(this)">
      <div class="level-title">
        <span class="level-icon">üèóÔ∏è</span>
        <div>
          <h2>Level 2: Code Quality & Architecture</h2>
          <span class="level-badge intermediate">Intermediate</span>
          <span class="level-progress" data-level-id="2">(0/4)</span>
        </div>
      </div>
      <span class="toggle-icon">‚ñº</span>
    </div>
    
    <div class="level-content">
      <div class="upgrade-item" data-id="4" data-difficulty="intermediate">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Refactor to modular JavaScript (ES6 modules)</h4>
        <p>Split your code into separate files for better organization.</p>
        <div class="code-snippet"><code>// auth.js
export class AuthManager {
  constructor() {
    this.users = JSON.parse(localStorage.getItem("users") || "{}");
  }
  
  login(username, password) { /* ... */ }
  signup(username, password) { /* ... */ }
}

// main.js
import { AuthManager } from './auth.js';
const auth = new AuthManager();</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Makes code maintainable, testable, and easier to debug. Essential for larger projects.
        </div>
      </div>
      
      <div class="upgrade-item" data-id="5" data-difficulty="intermediate">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Implement proper error handling</h4>
        <p>Add try-catch blocks and user-friendly error messages.</p>
        <div class="code-snippet"><code>async function handleAuth() {
  try {
    const u = authUser.value.trim();
    const p = authPass.value.trim();
    
    if (!u || !p) {
      throw new Error('Please fill in all fields');
    }
    
    // ... auth logic
  } catch (error) {
    showError(error.message);
    console.error('Auth error:', error);
  }
}</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Prevents crashes and provides better user experience when things go wrong.
        </div>
      </div>
      
      <div class="upgrade-item" data-id="6" data-difficulty="intermediate">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Add JSDoc comments for documentation</h4>
        <p>Document your functions with proper comments.</p>
        <div class="code-snippet"><code>/**
 * Analyzes text for harmful content
 * @param {string} text - The text to analyze
 * @returns {Object} Analysis result with score and detected words
 */
function analyze(text) {
  // ...
}</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Makes code self-documenting and helps IDEs provide better autocomplete.
        </div>
      </div>
      
      <div class="upgrade-item" data-id="7" data-difficulty="intermediate">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Use const/let instead of implicit globals</h4>
        <p>All your variables should be properly declared.</p>
        <div class="code-snippet"><code>// ‚ùå Bad (implicit global)
users = JSON.parse(localStorage.getItem("users"));

// ‚úÖ Good (explicit declaration)
const users = JSON.parse(localStorage.getItem("users") || "{}");</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Prevents variable conflicts and makes code more predictable.
        </div>
      </div>
    </div>
  </div>
  
  <!-- LEVEL 3: ENHANCED FUNCTIONALITY -->
  <div class="level" data-level="intermediate">
    <div class="level-header" onclick="toggleLevel(this)">
      <div class="level-title">
        <span class="level-icon">‚ö°</span>
        <div>
          <h2>Level 3: Enhanced Functionality</h2>
          <span class="level-badge intermediate">Intermediate</span>
          <span class="level-progress" data-level-id="3">(0/4)</span>
        </div>
      </div>
      <span class="toggle-icon">‚ñº</span>
    </div>
    
    <div class="level-content">
      <div class="upgrade-item" data-id="8" data-difficulty="intermediate">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Integrate actual AI/ML for text analysis</h4>
        <p>Replace keyword matching with real sentiment analysis using an API.</p>
        <div class="code-snippet"><code>// Use Hugging Face Inference API (free tier available)
async function analyzeWithAI(text) {
  const response = await fetch(
    "https://api-inference.huggingface.co/models/distilbert-base-uncased-finetuned-sst-2-english",
    {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ inputs: text })
    }
  );
  return await response.json();
}</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> More accurate than keyword matching. Understands context and nuance.
        </div>
        <ul class="resources">
          <li>üìö <a href="https://huggingface.co/inference-api" target="_blank">Hugging Face API</a></li>
          <li>üìö <a href="https://platform.openai.com/docs/guides/moderation" target="_blank">OpenAI Moderation API</a></li>
        </ul>
      </div>
      
      <div class="upgrade-item" data-id="9" data-difficulty="intermediate">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Add data export functionality (CSV/JSON)</h4>
        <p>Let users download their analysis history.</p>
        <div class="code-snippet"><code>function exportData() {
  const data = JSON.parse(localStorage.getItem('analysisHistory') || '[]');
  const csv = 'Date,Text,Score\n' + 
    data.map(d => `${d.date},"${d.text}",${d.score}`).join('\n');
  
  const blob = new Blob([csv], { type: 'text/csv' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'analysis-history.csv';
  a.click();
}</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Users can track their progress and analyze trends over time.
        </div>
      </div>
      
      <div class="upgrade-item" data-id="10" data-difficulty="intermediate">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Add history tracking with localStorage</h4>
        <p>Store past analyses so users can review them.</p>
        <div class="code-snippet"><code>function saveAnalysis(text, score, detected) {
  const history = JSON.parse(localStorage.getItem('history') || '[]');
  history.unshift({
    id: Date.now(),
    text: text.substring(0, 50),
    score,
    detected,
    date: new Date().toISOString()
  });
  localStorage.setItem('history', JSON.stringify(history.slice(0, 50)));
}</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Provides value to users and helps them learn from past mistakes.
        </div>
      </div>
      
      <div class="upgrade-item" data-id="11" data-difficulty="intermediate">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Add dark/light theme toggle</h4>
        <p>Let users customize the appearance.</p>
        <div class="code-snippet"><code>function toggleTheme() {
  const isDark = document.body.classList.toggle('light-theme');
  localStorage.setItem('theme', isDark ? 'light' : 'dark');
}

// CSS
body.light-theme {
  background: #f0f0f0;
  color: #333;
}
body.light-theme .card {
  background: white;
}</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Improves accessibility and user comfort in different lighting conditions.
        </div>
      </div>
    </div>
  </div>
  
  <!-- LEVEL 4: ADVANCED FEATURES -->
  <div class="level" data-level="advanced">
    <div class="level-header" onclick="toggleLevel(this)">
      <div class="level-title">
        <span class="level-icon">üéØ</span>
        <div>
          <h2>Level 4: Advanced Features</h2>
          <span class="level-badge advanced">Advanced</span>
          <span class="level-progress" data-level-id="4">(0/5)</span>
        </div>
      </div>
      <span class="toggle-icon">‚ñº</span>
    </div>
    
    <div class="level-content">
      <div class="upgrade-item" data-id="12" data-difficulty="advanced">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Add backend with Firebase or Supabase</h4>
        <p>Move from localStorage to a real database for multi-device sync.</p>
        <div class="code-snippet"><code>// Firebase setup
import { initializeApp } from 'firebase/app';
import { getAuth, createUserWithEmailAndPassword } from 'firebase/auth';
import { getFirestore, collection, addDoc } from 'firebase/firestore';

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Real apps need persistent storage, user authentication, and data sync across devices.
        </div>
        <ul class="resources">
          <li>üìö <a href="https://firebase.google.com/docs/web/setup" target="_blank">Firebase Docs</a></li>
          <li>üìö <a href="https://supabase.com/docs" target="_blank">Supabase Docs</a></li>
        </ul>
      </div>
      
      <div class="upgrade-item" data-id="13" data-difficulty="advanced">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Add real-time collaboration features</h4>
        <p>Let multiple users analyze text together in real-time.</p>
        <div class="code-snippet"><code>// Using WebSocket or Firebase Realtime Database
const messagesRef = ref(database, 'room/' + roomId);
onValue(messagesRef, (snapshot) => {
  const data = snapshot.val();
  updateUI(data);
});</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Great for educational settings where teachers monitor student activity in real-time.
        </div>
      </div>
      
      <div class="upgrade-item" data-id="14" data-difficulty="advanced">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Implement proper PWA with offline functionality</h4>
        <p>Make app work completely offline with cached data.</p>
        <div class="code-snippet"><code>// service-worker.js
const CACHE_NAME = 'cyber-safety-v1';
const urlsToCache = [
  '/',
  '/styles.css',
  '/app.js',
  '/offline.html'
];

self.addEventListener('install', event => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(cache => cache.addAll(urlsToCache))
  );
});</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> True PWAs work offline and provide app-like experience on mobile devices.
        </div>
        <ul class="resources">
          <li>üìö <a href="https://web.dev/learn/pwa/" target="_blank">PWA Guide by Google</a></li>
        </ul>
      </div>
      
      <div class="upgrade-item" data-id="15" data-difficulty="advanced">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Add analytics dashboard with Chart.js</h4>
        <p>Visualize analysis trends over time with interactive charts.</p>
        <div class="code-snippet"><code>import Chart from 'chart.js/auto';

const ctx = document.getElementById('myChart');
new Chart(ctx, {
  type: 'line',
  data: {
    labels: dates,
    datasets: [{
      label: 'Safety Score Over Time',
      data: scores,
      borderColor: '#6366f1'
    }]
  }
});</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Visual data helps users understand patterns and progress better.
        </div>
      </div>
      
      <div class="upgrade-item" data-id="16" data-difficulty="advanced">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Build with a framework (React/Vue)</h4>
        <p>Refactor entire app using modern framework for better state management.</p>
        <div class="code-snippet"><code>// React component example
function Analyzer() {
  const [text, setText] = useState('');
  const [result, setResult] = useState(null);
  
  const analyze = async () => {
    const score = await analyzeText(text);
    setResult(score);
  };
  
  return (
    <div>
      <textarea value={text} onChange={e => setText(e.target.value)} />
      <button onClick={analyze}>Analyze</button>
      {result && <Result data={result} />}
    </div>
  );
}</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Frameworks make complex apps easier to manage and are industry standard.
        </div>
        <ul class="resources">
          <li>üìö <a href="https://react.dev/learn" target="_blank">React Official Tutorial</a></li>
          <li>üìö <a href="https://vuejs.org/tutorial/" target="_blank">Vue Tutorial</a></li>
        </ul>
      </div>
    </div>
  </div>
  
  <!-- LEVEL 5: PRODUCTION READY -->
  <div class="level" data-level="advanced">
    <div class="level-header" onclick="toggleLevel(this)">
      <div class="level-title">
        <span class="level-icon">üö¢</span>
        <div>
          <h2>Level 5: Production Ready</h2>
          <span class="level-badge advanced">Advanced</span>
          <span class="level-progress" data-level-id="5">(0/4)</span>
        </div>
      </div>
      <span class="toggle-icon">‚ñº</span>
    </div>
    
    <div class="level-content">
      <div class="upgrade-item" data-id="17" data-difficulty="advanced">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Add unit tests with Jest</h4>
        <p>Test your functions to ensure they work correctly.</p>
        <div class="code-snippet"><code>// analyze.test.js
import { analyze } from './analyze';

test('detects harmful language', () => {
  const result = analyze('you are stupid');
  expect(result.score).toBeLessThan(100);
  expect(result.detected).toContain('stupid');
});</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Catches bugs before they reach users. Essential for professional development.
        </div>
      </div>
      
      <div class="upgrade-item" data-id="18" data-difficulty="advanced">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Set up CI/CD with GitHub Actions</h4>
        <p>Automatically test and deploy your app on every commit.</p>
        <div class="code-snippet"><code># .github/workflows/deploy.yml
name: Deploy
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: npm test
      - run: npm run build
      - uses: peaceiris/actions-gh-pages@v3</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Professional workflow that ensures code quality and automated deployments.
        </div>
      </div>
      
      <div class="upgrade-item" data-id="19" data-difficulty="advanced">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Add accessibility features (ARIA labels)</h4>
        <p>Make your app usable for everyone, including screen reader users.</p>
        <div class="code-snippet"><code><button 
  aria-label="Analyze text for harmful content"
  onclick="analyze()">
  Analyze
</button>

<div role="alert" aria-live="polite" id="result"></div></code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Makes your app inclusive and complies with accessibility standards (WCAG).
        </div>
        <ul class="resources">
          <li>üìö <a href="https://www.w3.org/WAI/ARIA/apg/" target="_blank">ARIA Authoring Practices</a></li>
        </ul>
      </div>
      
      <div class="upgrade-item" data-id="20" data-difficulty="advanced">
        <h4><input type="checkbox" class="checkbox" onchange="updateProgress()"> Deploy to production (Vercel/Netlify)</h4>
        <p>Make your app live and accessible to the world.</p>
        <div class="code-snippet"><code># Deploy with Vercel CLI
npm i -g vercel
vercel --prod

# Or connect GitHub repo to Netlify for auto-deploy</code></div>
        <div class="why-section">
          <strong>üí° Why?</strong> Your app is ready to share! Get real users and feedback.
        </div>
        <ul class="resources">
          <li>üìö <a href="https://vercel.com/docs" target="_blank">Vercel Docs</a></li>
          <li>üìö <a href="https://docs.netlify.com/" target="_blank">Netlify Docs</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- Stats Modal -->
<div id="statsModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>üìä Your Progress Stats</h2>
      <span class="close" onclick="closeModal()">&times;</span>
    </div>
    <div id="statsContent"></div>
  </div>
</div>

<!-- Achievement Modal -->
<div id="achievementModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>üéâ Achievement Unlocked!</h2>
      <span class="close" onclick="closeAchievement()">&times;</span>
    </div>
    <div class="achievement">
      <div class="achievement-icon" id="achievementIcon">üèÜ</div>
      <h3 id="achievementTitle"></h3>
      <p id="achievementDesc"></p>
    </div>
  </div>
</div>

<!-- Toast Notification -->
<div class="toast" id="toast"></div>

<script>
  // PWA Installation
  let deferredPrompt;
  const installBtn = document.getElementById('installBtn');
  
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    installBtn.style.display = 'flex';
  });
  
  installBtn.addEventListener('click', async () => {
    if (!deferredPrompt) return;
    
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    
    if (outcome === 'accepted') {
      showToast('App installed successfully! üéâ');
    }
    
    deferredPrompt = null;
    installBtn.style.display = 'none';
  });
  
  // Service Worker Registration
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register(
      URL.createObjectURL(
        new Blob([`
          const CACHE_NAME = 'roadmap-v1';
          self.addEventListener('fetch', e => {
            e.respondWith(
              caches.match(e.request).then(response => {
                return response || fetch(e.request);
              })
            );
          });
        `], { type: 'text/javascript' })
      )
    );
  }
  
  // Manifest
  const manifest = {
    name: "AI Cyber Safety Roadmap",
    short_name: "Roadmap",
    start_url: "./",
    display: "standalone",
    background_color: "#667eea",
    theme_color: "#667eea",
    icons: [{
      src: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='75' font-size='75'%3EüöÄ%3C/text%3E%3C/svg%3E",
      sizes: "192x192",
      type: "image/svg+xml"
    }]
  };
  
  document.getElementById('manifestLink').href = URL.createObjectURL(
    new Blob([JSON.stringify(manifest)], { type: 'application/json' })
  );
  
  // Progress tracking
  const loadProgress = () => {
    const saved = localStorage.getItem('cyberSafetyProgress');
    if (saved) {
      const completed = JSON.parse(saved);
      completed.forEach(id => {
        const item = document.querySelector(`[data-id="${id}"] .checkbox`);
        if (item) {
          item.checked = true;
          item.closest('.upgrade-item').classList.add('completed');
        }
      });
    }
    updateProgress();
    updateTotalCount();
    updateStreak();
  };
  
  const updateTotalCount = () => {
    const total = document.querySelectorAll('.checkbox').length;
    document.getElementById('totalCount').textContent = total;
  };
  
  const updateProgress = () => {
    const checkboxes = document.querySelectorAll('.checkbox');
    const completed = Array.from(checkboxes).filter(cb => cb.checked);
    const percent = Math.round((completed.length / checkboxes.length) * 100);
    
    document.getElementById('progressFill').style.width = percent + '%';
    document.getElementById('progressFill').textContent = percent + '%';
    document.getElementById('completedCount').textContent = completed.length;
    
    // Save to localStorage
    const completedIds = completed.map(cb => cb.closest('.upgrade-item').dataset.id);
    localStorage.setItem('cyberSafetyProgress', JSON.stringify(completedIds));
    
    // Update completed styling
    checkboxes.forEach(cb => {
      const item = cb.closest('.upgrade-item');
      if (cb.checked) {
        item.classList.add('completed');
      } else {
        item.classList.remove('completed');
      }
    });
    
    // Update level progress
    updateLevelProgress();
    
    // Update difficulty stats
    updateDifficultyStats();
    
    // Check achievements
    checkAchievements(completed.length, checkboxes.length);
    
    // Update last activity
    localStorage.setItem('lastActivity', new Date().toISOString());
  };
  
  const updateLevelProgress = () => {
    for (let i = 1; i <= 5; i++) {
      const levelElement = document.querySelector(`[data-level-id="${i}"]`);
      const levelItems = document.querySelectorAll(`.level[data-level-id="${i}"] .checkbox`);
      if (!levelItems.length) {
        // Find by parent level
        const level = Array.from(document.querySelectorAll('.level'))[i - 1];
        if (level) {
          const items = level.querySelectorAll('.checkbox');
          const completed = Array.from(items).filter(cb => cb.checked).length;
          const progressText = levelElement || level.querySelector('.level-progress');
          if (progressText) {
            progressText.textContent = `(${completed}/${items.length})`;
          }
        }
      }
    }
  };
  
  const updateDifficultyStats = () => {
    const beginner = document.querySelectorAll('[data-difficulty="beginner"] .checkbox:checked').length;
    const intermediate = document.querySelectorAll('[data-difficulty="intermediate"] .checkbox:checked').length;
    const advanced = document.querySelectorAll('[data-difficulty="advanced"] .checkbox:checked').length;
    
    document.getElementById('beginnerComplete').textContent = beginner;
    document.getElementById('intermediateComplete').textContent = intermediate;
    document.getElementById('advancedComplete').textContent = advanced;
  };
  
  const updateStreak = () => {
    const lastActivity = localStorage.getItem('lastActivity');
    const activityDates = JSON.parse(localStorage.getItem('activityDates') || '[]');
    
    const today = new Date().toDateString();
    
    if (!activityDates.includes(today)) {
      activityDates.push(today);
      localStorage.setItem('activityDates', JSON.stringify(activityDates));
    }
    
    // Calculate streak
    let streak = 0;
    const sortedDates = activityDates.map(d => new Date(d)).sort((a, b) => b - a);
    
    for (let i = 0; i < sortedDates.length; i++) {
      const dayDiff = Math.floor((new Date() - sortedDates[i]) / (1000 * 60 * 60 * 24));
      if (dayDiff === i) {
        streak++;
      } else {
        break;
      }
    }
    
    document.getElementById('streak').textContent = streak;
  };
  
  const checkAchievements = (completed, total) => {
    const achievements = [
      { threshold: 1, icon: 'üéØ', title: 'First Step!', desc: 'You completed your first upgrade!' },
      { threshold: 5, icon: 'üî•', title: 'On Fire!', desc: 'You completed 5 upgrades!' },
      { threshold: 10, icon: '‚≠ê', title: 'Half Way!', desc: 'You completed 10 upgrades!' },
      { threshold: 15, icon: 'üí™', title: 'Power User!', desc: 'You completed 15 upgrades!' },
      { threshold: 20, icon: 'üèÜ', title: 'Master!', desc: 'You completed all upgrades!' }
    ];
    
    const lastAchievement = parseInt(localStorage.getItem('lastAchievement') || '0');
    
    achievements.forEach(achievement => {
      if (completed >= achievement.threshold && lastAchievement < achievement.threshold) {
        showAchievement(achievement.icon, achievement.title, achievement.desc);
        localStorage.setItem('lastAchievement', achievement.threshold.toString());
      }
    });
  };
  
  const showAchievement = (icon, title, desc) => {
    document.getElementById('achievementIcon').textContent = icon;
    document.getElementById('achievementTitle').textContent = title;
    document.getElementById('achievementDesc').textContent = desc;
    document.getElementById('achievementModal').style.display = 'block';
    
    // Confetti effect
    createConfetti();
  };
  
  const createConfetti = () => {
    const colors = ['#667eea', '#764ba2', '#4ade80', '#fbbf24', '#f87171'];
    for (let i = 0; i < 50; i++) {
      setTimeout(() => {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animationDelay = Math.random() * 0.5 + 's';
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 3000);
      }, i * 30);
    }
  };
  
  const closeAchievement = () => {
    document.getElementById('achievementModal').style.display = 'none';
  };
  
  const toggleLevel = (header) => {
    header.parentElement.classList.toggle('collapsed');
  };
  
  const resetProgress = () => {
    if (confirm('Are you sure you want to reset all progress? This cannot be undone.')) {
      localStorage.removeItem('cyberSafetyProgress');
      localStorage.removeItem('lastAchievement');
      localStorage.removeItem('activityDates');
      document.querySelectorAll('.checkbox').forEach(cb => {
        cb.checked = false;
        cb.closest('.upgrade-item').classList.remove('completed');
      });
      updateProgress();
      showToast('Progress reset successfully');
    }
  };
  
  const exportProgress = () => {
    const completed = JSON.parse(localStorage.getItem('cyberSafetyProgress') || '[]');
    const activityDates = JSON.parse(localStorage.getItem('activityDates') || '[]');
    
    const data = {
      completedUpgrades: completed,
      activityDates: activityDates,
      totalCompleted: completed.length,
      totalUpgrades: document.querySelectorAll('.checkbox').length,
      exportDate: new Date().toISOString()
    };
    
    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `roadmap-progress-${new Date().toISOString().split('T')[0]}.json`;
    a.click();
    
    showToast('Progress exported successfully! üíæ');
  };
  
  const showStats = () => {
    const completed = JSON.parse(localStorage.getItem('cyberSafetyProgress') || '[]');
    const activityDates = JSON.parse(localStorage.getItem('activityDates') || '[]');
    const total = document.querySelectorAll('.checkbox').length;
    
    const beginner = document.querySelectorAll('[data-difficulty="beginner"] .checkbox:checked').length;
    const intermediate = document.querySelectorAll('[data-difficulty="intermediate"] .checkbox:checked').length;
    const advanced = document.querySelectorAll('[data-difficulty="advanced"] .checkbox:checked').length;
    
    const statsHtml = `
      <div style="padding: 20px;">
        <h3 style="margin-bottom: 15px; color: #667eea;">Your Learning Statistics</h3>
        <p><strong>Overall Progress:</strong> ${completed.length}/${total} (${Math.round((completed.length / total) * 100)}%)</p>
        <p><strong>Beginner Completed:</strong> ${beginner}</p>
        <p><strong>Intermediate Completed:</strong> ${intermediate}</p>
        <p><strong>Advanced Completed:</strong> ${advanced}</p>
        <p><strong>Active Days:</strong> ${activityDates.length}</p>
        <p><strong>Current Streak:</strong> ${document.getElementById('streak').textContent} days</p>
        <hr style="margin: 20px 0;">
        <p style="color: #666; font-size: 14px;">Keep up the great work! üöÄ</p>
      </div>
    `;
    
    document.getElementById('statsContent').innerHTML = statsHtml;
    document.getElementById('statsModal').style.display = 'block';
  };
  
  const closeModal = () => {
    document.getElementById('statsModal').style.display = 'none';
  };
  
  const showToast = (message) => {
    const toast = document.getElementById('toast');
    toast.textContent = message;
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), 3000);
  };
  
  // Close modals on outside click
  window.onclick = (event) => {
    if (event.target.classList.contains('modal')) {
      event.target.style.display = 'none';
    }
  };
  
  // Initialize
  loadProgress();
</script>

</body>
</html>
